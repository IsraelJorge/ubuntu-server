<p>
  O Samba é um pacote de software livre amplamente utilizado em sistemas
  operacionais baseados em Unix, incluindo Linux, para fornecer serviços de
  compartilhamento de arquivos e impressoras. Com o Samba, é possível configurar
  um servidor de arquivos que pode ser acessado por máquinas Windows, além de
  permitir que servidores Linux se integrem a domínios Windows como
  controladores de domínio ou membros. O Samba também suporta várias
  funcionalidades avançadas, como a implementação de um controlador de domínio
  Active Directory, integração com serviços LDAP, autenticação baseada em
  Kerberos e gerenciamento de permissões e quotas de usuários.
</p>

<h1>6.1 Instalação</h1>

<p>
  Primeiramente, você deve acessar seu servidor com privilégios de superusuário.
  Depois, utilize o comando apt para instalar o Samba e seus pacotes comuns.
</p>

<pre>
      sudo su
      apt install samba samba-common
</pre>

<h1>6.2 Configurando o Samba</h1>

<p>
  1 - Vamos entrar no diretório onde estão armazenados os arquivos de
  configuração do Samba.
</p>

<pre>     cd /etc/samba</pre>

<p>
  2 - É altamente recomendado criar uma cópia de segurança do arquivo de
  configuração original do Samba antes de realizar qualquer modificação.
</p>

<pre>     cp smb.conf smb.conf.backup</pre>

<p>3 - Vamos configurá-lo de acordo com as suas necessidades.</p>

<pre>     nano smb.conf</pre>

<p>
  Dentro do arquivo smb.conf, adicione as seguintes configurações para definir
  os compartilhamentos:
</p>

<img
  src="https://github.com/IsraelJorge/ubuntu-server/blob/main/assets/imagem-35.png"
  width="80%"
/>

<h1>Explicação das Configurações:</h1>

<ol>
  <li>
    <code>[public]</code>: O nome do compartilhamento que é acessível
    publicamente.
  </li>
  <li>
    <code>comment</code>: Uma descrição ou observação sobre o compartilhamento.
  </li>
  <li>
    <code>path</code>: O caminho para o diretório que está sendo compartilhado.
  </li>
  <li>
    <code>browsable</code>: Determina se o compartilhamento é visível para
    outros na rede.
  </li>
  <li>
    <code>guest ok</code>: Permite que usuários convidados acessem o
    compartilhamento.
  </li>
  <li>
    <code>read only</code>: Define se o compartilhamento está configurado apenas
    para leitura.
  </li>
  <li>
    <code>create mask</code>: Especifica as permissões padrão aplicadas a novos
    arquivos criados dentro do compartilhamento.
  </li>
  <li>
    <code>[israel]</code>: O nome do compartilhamento que é restrito para
    determinados usuários.
  </li>
  <li>
    <code>valid users</code>: Lista de usuários autorizados a acessar o
    compartilhamento.
  </li>
</ol>

<h1>6.3 Configurando as pastas para compartilhamento</h1>

<h2>6.3.1 Configurando uma pasta pública</h2>

<p>1 - Crie o diretório para a pasta pública:</p>

<pre>     mkdir -p /srv/samba/public</pre>

<p>2 - Ajuste as permissões do diretório para permitir acesso público:</p>

<pre>
      chown -R nobody:nogroup /srv/samba/public
      chmod -R 0775 /srv/samba/public
</pre>

<h2>6.3.2 Configurando uma pasta privada</h2>

<p>1 - Defina a senha do usuário para acesso ao Samba:</p>

<pre>     smbpasswd -a israel</pre>

<p>2 - Crie um diretório para a pasta privada:</p>

<pre>     mkdir -p /srv/samba/israel</pre>

<p>
  Ajuste as permissões do diretório para permitir acesso exclusivo ao usuário
  criado:
</p>

<pre>
      chown -R israel:israel /srv/samba/israel
      chmod -R 0770 /srv/samba/israel
</pre>

<h1>6.4 Reiniciando o Serviço Samba</h1>

<p>
  Após fazer todas as configurações, precisamos reiniciar o serviço Samba para
  aplicar as alterações.
</p>

<pre>     systemctl restart smbd</pre>

<p>Vamos verificar se o serviço Samba está em execução e sem erros.</p>

<pre>     systemctl status smbd</pre>

<p>
  Seguindo esses passos, você conseguiu instalar e configurar o Samba no seu
  servidor Ubuntu com sucesso. Agora, seu servidor está pronto para compartilhar
  arquivos tanto de maneira pública quanto de forma privada e segura. O Samba
  facilita a interoperabilidade entre sistemas Linux e Windows, tornando a
  gestão desses compartilhamentos eficiente e simples.
</p>
