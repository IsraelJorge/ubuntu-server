<p>
  O BIND9, abreviação de Berkeley Internet Name Domain version 9, é um dos
  servidores de nomes de domínio (DNS) mais utilizados no mundo. Desenvolvido
  pela Internet Systems Consortium (ISC), o BIND9 é um software de código aberto
  que desempenha um papel fundamental na infraestrutura da Internet, permitindo
  a tradução de nomes de domínio em endereços IP e vice-versa.
</p>

<h1>4.1 Instalação</h1>

<p>
  Primeiramente, você deve acessar seu servidor com privilégios de superusuário.
  Depois, utilize o comando apt para instalar o BIND9, juntamente com algumas
  utilidades adicionais e a documentação:
</p>

<pre>
  sudo su
  apt install bind9 bind9utils bind9-doc
</pre>

<h1>4.2 Configurando a Rede</h1>

<p>Vamos ajustar as configurações de rede para adotar um endereço IP fixo.</p>

<p>
  Edite o arquivo <code>50-cloud-init.yaml</code> para configurar um IP estático
  digitando o seguintes comandos:
</p>

<pre>
  cd /etc/netplan
  nano 50-cloud-init.yaml
</pre>

<img
  src="https://github.com/IsraelJorge/ubuntu-server/blob/main/assets/imagem-28.png"
  width="80%"
/>

<p>Aplique as configurações de rede:</p>

<pre>netplan apply</pre>

<p>Verifique se o IP foi configurado corretamente:</p>

<code>ip a</code>

<h1>4.3 Configurando o BIND</h1>

<p>
  1 - Vamos acessar o diretório de configuração do BIND e fazer alterações nos
  arquivos de configuração.
</p>

<pre>
  cd /etc/bind
  ls -la
</pre>

<p>2- Vamos configurar as zonas DNS.</p>

<code>nano named.conf.local</code>

<p>Adicione as configurações para a zona direta e a zona reversa:</p>

<img
  src="https://github.com/IsraelJorge/ubuntu-server/blob/main/assets/imagem-29.png"
  width="80%"
/>

<p>3 - Vamos adicionar um servidor de encaminhamento DNS.</p>

<code>nano named.conf.options</code>

<p>Adicione a seguinte configuração no arquivo:</p>

<img
  src="https://github.com/IsraelJorge/ubuntu-server/blob/main/assets/imagem-30.png"
  width="80%"
/>

<p>4 - Vamos criar os arquivos de zona necessários.</p>

<pre>
  cp db.local db.israel.com
  nano db.israel.com
</pre>

<p>Edite o arquivo <code>db.israel.com</code> para configurar a zona direta:</p>

<img
  src="https://github.com/IsraelJorge/ubuntu-server/blob/main/assets/imagem-31.png"
  width="80%"
/>

<p>
  Copie o arquivo de exemplo <code>db.0</code> para criar o arquivo de zona
  reversa:
</p>

<pre>
  cp db.0 db.1.168.192.in-addr.arpa
  nano db.1.168.192.in-addr.arpa
</pre>

<p>
  Edite o arquivo <code>db.1.168.192.in-addr.arpa</code> para configurar a zona
  reversa:
</p>

<img
  src="https://github.com/IsraelJorge/ubuntu-server/blob/main/assets/imagem-32.png"
  width="80%"
/>

<p>5 - Configurando o resolv.conf</p>
<p>Abra o arquivo resolv.conf com o comando:</p>
<code>nano /etc/resolv.conf</code>
<p>Em seguida, insira a linha abaixo para definir o servidor DNS:</p>
<code>nameserver 192.168.1.254</code>

<p>6 - Atualizando o arquivo hosts</p>
<p>Edite o arquivo hosts com o comando:</p>
<code>nano /etc/hosts</code>
<p>Adicione a entrada para o servidor DNS:</p>
<code>192.168.1.254 www.israel.com</code>

<h1>4.4 Reiniciando o serviço BIND</h1>
<p>Para aplicar as configurações, reinicie o serviço BIND:</p>
<code>systemctl restart bind9</code>

<p>
  Verifique o status do BIND para garantir que esteja funcionando corretamente:
</p>
<code>systemctl status bind9</code>

<h1>4.5 Testando a configuração DNS</h1>
<p>Use o nslookup para testar a configuração DNS:</p>
<code>nslookup servidor.israel.com</code>

<img
  src="https://github.com/IsraelJorge/ubuntu-server/blob/main/assets/imagem-33.png"
  width="80%"
/>

<p>
  Ao seguir esses passos, você completará a instalação e configuração do
  servidor DNS BIND no seu Ubuntu Server. Essas configurações iniciais asseguram
  que o servidor DNS esteja preparado para traduzir nomes de domínio em
  endereços IP e vice-versa, tornando-o plenamente funcional para resolver
  consultas de DNS.
</p>
